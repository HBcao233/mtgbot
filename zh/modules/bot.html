<!DOCTYPE html>
<html class="writer-html5" lang="zh" data-content_root="../">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>bot 模块 &mdash; mtgbot 0.1.0 文档</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="../_static/jquery.js?v=5d32c60e"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="../_static/documentation_options.js?v=74157ad4"></script>
        <script src="../_static/doctools.js?v=9a2dae69"></script>
        <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="prev" title="main 模块" href="main.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html" class="icon icon-home">
            mtgbot
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="搜索文档" aria-label="搜索文档" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="导航菜单">
              <p class="caption" role="heading"><span class="caption-text">快速上手</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Mtgbot 文档</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">模块</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="config.html">config 模块</a></li>
<li class="toctree-l1"><a class="reference internal" href="plugin.html">plugin 模块</a></li>
<li class="toctree-l1"><a class="reference internal" href="filters.html">filters 模块</a></li>
<li class="toctree-l1"><a class="reference internal" href="util.html">util 包</a></li>
<li class="toctree-l1"><a class="reference internal" href="main.html">main 模块</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">bot 模块</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#bot.Bot"><code class="docutils literal notranslate"><span class="pre">Bot</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="#bot.Bot.connect"><code class="docutils literal notranslate"><span class="pre">Bot.connect()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bot.Bot.delete_messages"><code class="docutils literal notranslate"><span class="pre">Bot.delete_messages()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bot.Bot.request_callback"><code class="docutils literal notranslate"><span class="pre">Bot.request_callback()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bot.Bot.schedule"><code class="docutils literal notranslate"><span class="pre">Bot.schedule()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bot.Bot.schedule_decorator"><code class="docutils literal notranslate"><span class="pre">Bot.schedule_decorator()</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="#bot.Bot.schedule_delete_messages"><code class="docutils literal notranslate"><span class="pre">Bot.schedule_delete_messages()</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="移动版导航菜单" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">mtgbot</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="页面导航">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">bot 模块</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/modules/bot.rst.txt" rel="nofollow"> 查看页面源码</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="module-bot">
<span id="bot"></span><h1>bot 模块<a class="headerlink" href="#module-bot" title="Link to this heading"></a></h1>
<dl class="py class">
<dt class="sig sig-object py" id="bot.Bot">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">bot.</span></span><span class="sig-name descname"><span class="pre">Bot</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">session:</span> <span class="pre">typing.Union[str,</span> <span class="pre">pathlib.Path,</span> <span class="pre">Session],</span> <span class="pre">api_id:</span> <span class="pre">int,</span> <span class="pre">api_hash:</span> <span class="pre">str,</span> <span class="pre">*,</span> <span class="pre">connection:</span> <span class="pre">typing.Type[Connection]</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'telethon.network.connection.tcpfull.ConnectionTcpFull'&gt;,</span> <span class="pre">use_ipv6:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">proxy:</span> <span class="pre">tuple</span> <span class="pre">|</span> <span class="pre">dict</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">local_addr:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">tuple</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">timeout:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">10,</span> <span class="pre">request_retries:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">5,</span> <span class="pre">connection_retries:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">5,</span> <span class="pre">retry_delay:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">1,</span> <span class="pre">auto_reconnect:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True,</span> <span class="pre">sequential_updates:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">flood_sleep_threshold:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">60,</span> <span class="pre">raise_last_call_error:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">device_model:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">system_version:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">app_version:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">lang_code:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'en',</span> <span class="pre">system_lang_code:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">'en',</span> <span class="pre">loop:</span> <span class="pre">~asyncio.events.AbstractEventLoop</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">base_logger:</span> <span class="pre">str</span> <span class="pre">|</span> <span class="pre">~logging.Logger</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">receive_updates:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">True,</span> <span class="pre">catch_up:</span> <span class="pre">bool</span> <span class="pre">=</span> <span class="pre">False,</span> <span class="pre">entity_cache_limit:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">5000</span></em><span class="sig-paren">)</span><a class="headerlink" href="#bot.Bot" title="Link to this definition"></a></dt>
<dd><p>基类：<code class="xref py py-class docutils literal notranslate"><span class="pre">TelegramClient</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="bot.Bot.connect">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">connect</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#bot.Bot.connect" title="Link to this definition"></a></dt>
<dd><p>Connects to Telegram.</p>
<div class="admonition note">
<p class="admonition-title">备注</p>
<p>Connect means connect and nothing else, and only one low-level
request is made to notify Telegram about which layer we will be
using.</p>
<p>Before Telegram sends you updates, you need to make a high-level
request, like <cite>client.get_me() &lt;telethon.client.users.UserMethods.get_me&gt;</cite>,
as described in <a class="reference external" href="https://core.telegram.org/api/updates">https://core.telegram.org/api/updates</a>.</p>
</div>
<dl>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">try</span><span class="p">:</span>
    <span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">connect</span><span class="p">()</span>
<span class="k">except</span> <span class="ne">OSError</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Failed to connect&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bot.Bot.delete_messages">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">delete_messages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PeerUser</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PeerChat</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">PeerChannel</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputPeerEmpty</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputPeerSelf</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputPeerChat</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputPeerUser</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputPeerChannel</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputPeerUserFromMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputPeerChannelFromMessage</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">User</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Chat</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Channel</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">UserFull</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ChatFull</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ChatFull</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">ChannelFull</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message_ids</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Message</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputMessageID</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputMessageReplyTo</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputMessagePinned</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputMessageCallbackQuery</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">Message</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputMessageID</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputMessageReplyTo</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputMessagePinned</span><span class="w"> </span><span class="p"><span class="pre">|</span></span><span class="w"> </span><span class="pre">InputMessageCallbackQuery</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">revoke</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_permission</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">AffectedMessages</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#bot.Bot.delete_messages" title="Link to this definition"></a></dt>
<dd><p>Deletes the given messages, optionally &quot;for everyone&quot;.</p>
<p>See also <cite>Message.delete() &lt;telethon.tl.custom.message.Message.delete&gt;</cite>.</p>
<div class="admonition warning">
<p class="admonition-title">警告</p>
<p>This method does <strong>not</strong> validate that the message IDs belong
to the chat that you passed! It's possible for the method to
delete messages from different private chats and small group
chats at once, so make sure to pass the right IDs.</p>
</div>
<dl>
<dt>Arguments</dt><dd><dl>
<dt>entity (<cite>entity</cite>):</dt><dd><p>From who the message will be deleted. This can actually
be <cite>None</cite> for normal chats, but <strong>must</strong> be present
for channels and megagroups.</p>
</dd>
<dt>message_ids (<cite>list</cite> | <cite>int</cite> | <cite>Message &lt;telethon.tl.custom.message.Message&gt;</cite>):</dt><dd><p>The IDs (or ID) or messages to be deleted.</p>
</dd>
<dt>revoke (<cite>bool</cite>, optional):</dt><dd><p>Whether the message should be deleted for everyone or not.
By default it has the opposite behaviour of official clients,
and it will delete the message for everyone.</p>
<p><a class="reference external" href="https://telegram.org/blog/unsend-privacy-emoji">Since 24 March 2019</a>, you can
also revoke messages of any age (i.e. messages sent long in
the past) the <em>other</em> person sent in private conversations
(and of course your messages too).</p>
<p>Disabling this has no effect on channels or megagroups,
since it will unconditionally delete the message for everyone.</p>
</dd>
</dl>
</dd>
<dt>Returns</dt><dd><p>A list of <a href="#id1"><span class="problematic" id="id2">:tl:`AffectedMessages`</span></a>, each item being the result
for the delete calls of the messages in chunks of 100 each.</p>
</dd>
<dt>Example</dt><dd><div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">await</span> <span class="n">client</span><span class="o">.</span><span class="n">delete_messages</span><span class="p">(</span><span class="n">chat</span><span class="p">,</span> <span class="n">messages</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bot.Bot.request_callback">
<em class="property"><span class="pre">async</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">request_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">res</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bot.Bot.request_callback" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bot.Bot.schedule">
<span class="sig-name descname"><span class="pre">schedule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bot.Bot.schedule" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bot.Bot.schedule_decorator">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">schedule_decorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bot.Bot.schedule_decorator" title="Link to this definition"></a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="bot.Bot.schedule_delete_messages">
<span class="sig-name descname"><span class="pre">schedule_delete_messages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#bot.Bot.schedule_delete_messages" title="Link to this definition"></a></dt>
<dd></dd></dl>

</dd></dl>

</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="页脚">
        <a href="main.html" class="btn btn-neutral float-left" title="main 模块" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> 上一页</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; 版权所有 2024, HBcao233。</p>
  </div>

  利用 <a href="https://www.sphinx-doc.org/">Sphinx</a> 构建，使用的 
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">主题</a>
    由 <a href="https://readthedocs.org">Read the Docs</a> 开发.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>